# CLI —É—Ç–∏–ª–∏—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –û–±–∑–æ—Ä

CLI —É—Ç–∏–ª–∏—Ç–∞ `env.cli.ts` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env` —Ñ–∞–π–ª–µ.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–£—Ç–∏–ª–∏—Ç–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ npm —Å–∫—Ä–∏–ø—Ç:

```bash
npm run env <command> [options]
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### üìÑ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏

#### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π .env —Ñ–∞–π–ª
```bash
npm run env create
```
–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π `.env` —Ñ–∞–π–ª —Å –±–∞–∑–æ–≤—ã–º —à–∞–±–ª–æ–Ω–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

#### –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω
```bash
npm run env template
```
–°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `.env.template` —Å –ø—É—Å—Ç—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `.env`.

#### –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Ñ–∞–π–ª–∞
```bash
npm run env copy .env.example
npm run env copy /path/to/another/.env
```

### üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

#### –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
```bash
npm run env get PORT
npm run env get DB_PASSWORD
```

#### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
```bash
npm run env set PORT 3000
npm run env set NODE_ENV production
npm run env set DB_PASSWORD "mypassword123"
```

#### –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
```bash
npm run env delete OLD_VARIABLE
npm run env del UNUSED_KEY
```

#### –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```bash
npm run env list
npm run env ls
```

### üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
```bash
npm run env backup
```
–°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª `.env.backup.YYYY-MM-DDTHH-MM-SS`.

#### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
```bash
npm run env restore .env.backup.2024-01-15T10-30-00-000Z
```

### üîç –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

#### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å .env —Ñ–∞–π–ª–∞
```bash
npm run env validate
```

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∫–ª—é—á–∏
- –ü—É—Å—Ç—ã–µ –∫–ª—é—á–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

### üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```bash
npm run env edit
```

–ó–∞–ø—É—Å–∫–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∫–æ–º–∞–Ω–¥–∞–º–∏:
- `get` - –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
- `set` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ  
- `delete` - —É–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
- `list` - –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- `exit` - –≤—ã–π—Ç–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π .env —Ñ–∞–π–ª
npm run env create

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
npm run env set PORT 3000
npm run env set NODE_ENV development
npm run env set DB_PASSWORD "mypassword"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
npm run env list
```

### –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
npm run env set DB_HOST localhost
npm run env set DB_PORT 5432
npm run env set DB_USERNAME postgres
npm run env set DB_DATABASE prometai_dev

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
npm run env get DB_HOST
npm run env validate
```

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏–π
```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
npm run env backup

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ production
npm run env set NODE_ENV production
npm run env set DB_HOST prod-db-server
npm run env delete DEBUG_MODE

# –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º
npm run env restore .env.backup.2024-01-15T10-30-00-000Z
```

### –†–∞–±–æ—Ç–∞ —Å –∫–æ–º–∞–Ω–¥–æ–π
```bash
# –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
npm run env template

# –ö–æ–º–∞–Ω–¥–∞ –∫–æ–ø–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
npm run env copy .env.template
npm run env set DB_PASSWORD "team_password"
npm run env set JWT_SECRET "team_secret"
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –°–∫—Ä—ã—Ç–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–ü—Ä–∏ –≤—ã–≤–æ–¥–µ —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (`npm run env list`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ:
- `PASSWORD`
- `SECRET` 
- `KEY`
- `TOKEN`

–≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ `***`.

### –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–∫–ª—é—á–∞—è –ø–∞—Ä–æ–ª–∏. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –§–∞–π–ª—ã `.env.backup.*` –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`
- –î–æ—Å—Ç—É–ø –∫ —Ä–µ–∑–µ—Ä–≤–Ω—ã–º –∫–æ–ø–∏—è–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω
- –°—Ç–∞—Ä—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ .env —Ñ–∞–π–ª–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–µ–∫—Ü–∏—è–º–∏:

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
PORT=3000
NODE_ENV=development
HOST=localhost

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=
DB_DATABASE=prometai_dev

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOG_LEVEL=debug
ENABLE_REQUEST_LOGGING=true
ENABLE_RESPONSE_LOGGING=true

# JWT —Å–µ–∫—Ä–µ—Ç
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
CORS_ORIGIN=http://localhost:3000
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è

–ö–æ–º–∞–Ω–¥–∞ `npm run env validate` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

‚úÖ **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π
- –ù–∞–ª–∏—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –≤—Å–µ—Ö –∫–ª—é—á–µ–π
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ KEY=VALUE
- –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

‚ùå **–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:**
- –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∫–ª—é—á–∏
- –ü—É—Å—Ç—ã–µ –∫–ª—é—á–∏ (—Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∞ `=value`)
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∞ `KEY=`)

## –ê–ª–∏–∞—Å—ã –∫–æ–º–∞–Ω–¥

- `del` = `delete`
- `ls` = `list`

## –°–ø—Ä–∞–≤–∫–∞

```bash
npm run env help
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é —Å–ø—Ä–∞–≤–∫—É –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º. 
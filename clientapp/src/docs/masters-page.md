# Страница мастеров (/masters)

## Описание
Страница `/masters` предоставляет пользователям возможность поиска и просмотра мастеров маникюра с их услугами и дизайнами.

## Функциональность

### Основные возможности
- **Поиск мастеров** по имени, описанию или специальностям
- **Фильтрация** по городу и специальности
- **Сортировка** по рейтингу, опыту или цене
- **Отображение карточек** мастеров с краткой информацией
- **Переход** к детальному профилю мастера

### Компоненты

#### 1. MastersPage (главный компонент)
```typescript
// client/src/pages/masters/masters.page.tsx
- Управление состоянием поиска и фильтрации
- Загрузка данных мастеров через API
- Обработка пустых состояний и ошибок
```

#### 2. MastersSearch (поиск и фильтры)
```typescript
// client/src/pages/masters/components/MastersSearch.tsx
- Строка поиска по имени/специальности
- Фильтры по городу и специальности
- Сортировка по различным критериям
- Отображение активных фильтров с возможностью удаления
```

#### 3. MastersGrid (сетка мастеров)
```typescript
// client/src/pages/masters/components/MastersGrid.tsx
- Адаптивная сетка карточек мастеров
- Скелетоны загрузки
- Обработка клика по карточке
```

#### 4. MasterCard (карточка мастера)
```typescript
// client/src/pages/masters/components/MasterCard.tsx
- Аватар и основная информация мастера
- Рейтинг и количество отзывов
- Местоположение и опыт работы
- Специальности (до 3 с показом остальных)
- Краткое описание
- Статистика (дизайны, услуги)
- Статус доступности
```

## API Endpoints

### Клиентская часть
```typescript
// client/src/services/masterService.ts
getAllMasters(): Promise<ApiResponse<Master[]>>
```

### Серверная часть
```typescript
// server/src/controllers/master.controller.ts
GET /api/masters - получить всех мастеров с пагинацией
```

## Типы данных

### Master (расширенный)
```typescript
interface Master extends User {
  role: 'nailmaster';
  rating?: number;
  reviewsCount?: number;
  experience?: string;
  specialties?: string[];
  designs?: number;
  uploadsCount?: number;
  address?: string;
  description?: string;
  latitude?: number;
  longitude?: number;
}
```

## Стили

### CSS Modules
- `masters.page.module.css` - стили основной страницы
- `MastersSearch.module.css` - стили компонента поиска
- `MastersGrid.module.css` - стили сетки мастеров
- `MasterCard.module.css` - стили карточки мастера

### Адаптивность
- Десктопная версия: сетка с несколькими колонками
- Планшетная версия: адаптивная сетка
- Мобильная версия: одна колонка

## Навигация

### Маршрутизация
```typescript
// client/src/App.tsx
<Route path="/masters" element={<MastersPage />} />
```

### Навигация в Header
```typescript
// client/src/components/Header.tsx
- Добавлена ссылка "Мастера" в навигационное меню
- Доступна всем авторизованным пользователям
```

## Функции поиска и фильтрации

### Поиск
- По имени мастера (fullName)
- По описанию профиля
- По специальностям

### Фильтры
- **Город**: выбор из предустановленного списка
- **Специальность**: выбор из списка специальностей
- **Сортировка**: по рейтингу, опыту, цене

### Активные фильтры
- Отображение текущих фильтров в виде бейджей
- Возможность удаления отдельных фильтров
- Кнопка "Очистить все фильтры"

## Состояния интерфейса

### Загрузка
- Скелетоны для карточек мастеров
- Индикатор загрузки в статистике

### Пустое состояние
- Сообщение "Мастера не найдены"
- Кнопка очистки фильтров
- Предложения по изменению поиска

### Ошибки
- Обработка ошибок API
- Уведомления через toast

## Интеграция

### Переходы
- Клик по карточке мастера → `/master/:masterId`
- Навигация между страницами через Header

### Контексты
- `AuthContext` - проверка авторизации
- `ThemeContext` - поддержка тем

## Будущие улучшения

### Возможные расширения
- Геолокация и поиск по расстоянию
- Фильтр по рейтингу
- Фильтр по ценовому диапазону
- Избранные мастера
- Карта с местоположением мастеров
- Расширенные фильтры (время работы, услуги)

### Оптимизация
- Виртуализация списка для больших объемов данных
- Дебаунс для поискового запроса
- Кэширование результатов поиска 
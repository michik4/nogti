# –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –≤ –ø—Ä–æ—Ñ–∏–ª–µ –∫–ª–∏–µ–Ω—Ç–∞

## –û–±–∑–æ—Ä

–ü—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—Ç–∑—ã–≤–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç –æ—Å—Ç–∞–≤–∏–ª –º–∞—Å—Ç–µ—Ä–∞–º. –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤, —Å—Ä–µ–¥–Ω—é—é –æ—Ü–µ–Ω–∫—É –∏ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.

## –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üìä **ProfileHeader - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**

–í –∑–∞–≥–æ–ª–æ–≤–∫–µ –ø—Ä–æ—Ñ–∏–ª—è –∫–ª–∏–µ–Ω—Ç–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:

1. **–ó–∞–ø–∏—Å–∏** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π (—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ)
2. **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ)  
3. **–û—Ç–∑—ã–≤—ã** - —Ä–µ–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ ‚ú®
4. **–°—Ä. –æ—Ü–µ–Ω–∫–∞** - —Å—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–≤–∏—Ç –∫–ª–∏–µ–Ω—Ç ‚ú®

### üìù **–ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ "–ú–æ–∏ –æ—Ç–∑—ã–≤—ã"**

–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–∑—ã–≤–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞:

- **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏:**
  - –í—Å–µ–≥–æ –æ—Ç–∑—ã–≤–æ–≤
  - –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞
  - –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ—Ç–∑—ã–≤–∞

- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫:**
  - –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ü–µ–Ω–∫–∏ (1-5 –∑–≤–µ–∑–¥)
  - –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ

- **–ò—Å—Ç–æ—Ä–∏—è –æ—Ç–∑—ã–≤–æ–≤:**
  - –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –æ—Ç–∑—ã–≤–æ–≤
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Å—Ç–µ—Ä–µ
  - –î–∞—Ç–∞ –∏ —Ç–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞

## API

### **GET /api/auth/client/stats**

–ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—Ç–∑—ã–≤–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: Bearer token
- –†–æ–ª—å: client

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "totalReviews": 5,
    "averageRatingGiven": 4.2,
    "ratingDistribution": [0, 0, 1, 2, 2],
    "recentReviews": [
      {
        "id": "review-uuid",
        "ratingNumber": 5,
        "description": "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!",
        "createdAt": "2024-01-20T10:00:00.000Z",
        "masterName": "–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞"
      }
    ]
  },
  "message": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∞"
}
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### **ProfileHeader.tsx**

**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `useEffect` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∫–µ–ª–µ—Ç–æ–Ω–æ–≤ –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
- –ò–∫–æ–Ω–∫–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ—Ç–∑—ã–≤–æ–≤

**–ù–æ–≤—ã–µ –ø–æ–ª—è:**
```tsx
const [clientStats, setClientStats] = useState<ClientStats | null>(null);
const [isLoadingStats, setIsLoadingStats] = useState(false);
```

### **ReviewsTab.tsx**

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏:**
1. **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏** - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞
2. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫** - –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
3. **–ò—Å—Ç–æ—Ä–∏—è –æ—Ç–∑—ã–≤–æ–≤** - –¥–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

**–°–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
- –ó–∞–≥—Ä—É–∑–∫–∞ (—Å–∫–µ–ª–µ—Ç–æ–Ω—ã)
- –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- –ù–µ—Ç –æ—Ç–∑—ã–≤–æ–≤ (–ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### **userService.ts**

**–ù–æ–≤—ã–π –º–µ—Ç–æ–¥:**
```typescript
getClientStats: async (): Promise<ClientStats> => {
  const res = await apiService.get<ClientStats>('/auth/client/stats', true);
  return res.data;
}
```

## –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### **ClientStats**
```typescript
export interface ClientStats {
    totalReviews: number;
    averageRatingGiven: number;
    ratingDistribution: number[];  // [1-star, 2-star, 3-star, 4-star, 5-star]
    recentReviews: Array<{
        id: string;
        ratingNumber: number;
        description: string;
        createdAt: Date;
        masterName: string;
    }>;
}
```

### **Client (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)**
```typescript
export interface Client extends User {
  role: 'client';
  totalBookings?: number;
  favoriteCount?: number;
  uploadsCount?: number;
  // –ù–æ–≤—ã–µ –ø–æ–ª—è
  reviewsGiven?: number;      // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤
  averageRating?: number;     // –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–≤–∏—Ç –∫–ª–∏–µ–Ω—Ç
}
```

## –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å

### **ClientController.getClientStats**

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –æ—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –í—ã—á–∏—Å–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Å—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥)
- –§–æ—Ä–º–∏—Ä—É–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –æ—Ç–∑—ã–≤–æ–≤

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## UX —É–ª—É—á—à–µ–Ω–∏—è

### **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏**
- –°–∫–µ–ª–µ—Ç–æ–Ω—ã –≤ ProfileHeader
- –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –≤ ReviewsTab

### **–ü—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
- –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ –æ—Ç–∑—ã–≤–æ–≤
- –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é

### **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã**
- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ (—Å–∏–Ω–∏–π, –∑–µ–ª–µ–Ω—ã–π, —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã

### **–†–µ—Å–ø–æ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å**
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –æ—Ç–∑—ã–≤–∞
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –æ—Ç–∑—ã–≤–∞
- –£–¥–∞–ª–µ–Ω–∏–∏ –æ—Ç–∑—ã–≤–∞

### **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É –æ—Ç–∑—ã–≤–æ–≤

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤** –ø–æ –¥–∞—Ç–µ, —Ä–µ–π—Ç–∏–Ω–≥—É, –º–∞—Å—Ç–µ—Ä—É
2. **–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç–∑—ã–≤–æ–≤** –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ —Ä–µ–∞–∫—Ü–∏—è—Ö –º–∞—Å—Ç–µ—Ä–æ–≤ –Ω–∞ –æ—Ç–∑—ã–≤—ã
4. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ** —Å –¥—Ä—É–≥–∏–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ (–∞–Ω–æ–Ω–∏–º–Ω–æ)
5. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –º–∞—Å—Ç–µ—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### **–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
useEffect(() => {
  const loadStats = async () => {
    try {
      const stats = await userService.getClientStats();
      setClientStats(stats);
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
    }
  };
  
  loadStats();
}, []);
```

### **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞**
```tsx
<div className="flex items-center gap-1">
  <Star className="w-4 h-4 text-yellow-400 fill-yellow-400" />
  <span className="text-2xl font-bold">
    {clientStats?.averageRatingGiven?.toFixed(1) || '0.0'}
  </span>
</div>
```

### **–°–∫–µ–ª–µ—Ç–æ–Ω –∑–∞–≥—Ä—É–∑–∫–∏**
```tsx
{isLoadingStats ? (
  <Skeleton className="h-8 w-12" />
) : (
  <span className="text-2xl font-bold">{stats.totalReviews}</span>
)}
``` 
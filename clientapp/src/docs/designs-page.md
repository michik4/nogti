# Страница дизайнов маникюра

## Описание
Страница `/designs` предоставляет полнофункциональный каталог дизайнов маникюра с возможностями поиска, фильтрации и взаимодействия.

## Основные функции

### 1. Просмотр дизайнов
- Сетка карточек со всеми активными и модерированными дизайнами
- Отображение изображения, названия, описания и статистики
- Информация о типе дизайна (базовый/дизайнерский) и источнике
- **Новая система ценообразования**: отображение "от n ₽" где n - минимальная стоимость услуги с этим дизайном

### 2. Поиск
- Поиск по названию и описанию дизайнов
- Сохранение поискового запроса в URL

### 3. Фильтрация
- **Тип дизайна**: базовый или дизайнерский
- **Источник**: администратор, мастер или клиент
- **Цвет**: предустановленная палитра из 16 цветов
- **Теги**: популярные теги + возможность добавления кастомных

### 4. Взаимодействие
- **Лайки** (только для клиентов): возможность ставить/убирать лайки
- **Просмотр мастеров**: модальное окно со списком мастеров, которые могут выполнить дизайн
- **Переход к деталям**: полная страница дизайна (`/designs/:id`)
- **Бронирование**: переход к странице мастера для записи

### 5. Пагинация
- Постраничная навигация с отображением номеров страниц
- Плавная прокрутка к началу при смене страницы

## Система ценообразования

### Принципы новой системы
- **Дизайн не имеет собственной стоимости** - стоимость рассчитывается от услуг, к которым привязан дизайн
- **Минимальная цена** - отображается "от n ₽" где n - самая низкая цена среди всех услуг, которые могут выполнить этот дизайн
- **Динамическое ценообразование** - цена может меняться в зависимости от мастеров и их услуг

### Отображение цены
- В карточках дизайнов: "от 1500 ₽"
- На странице дизайна: "от 1500 ₽" 
- В модальных окнах бронирования: "от 1500 ₽"

### Расчет минимальной цены
1. Находятся все услуги мастеров, которые могут выполнить дизайн
2. Для каждой услуги учитывается кастомная цена мастера или базовая цена услуги
3. Выбирается минимальная цена среди всех доступных вариантов

## Цветовая система

Используется предустановленная палитра цветов:
- Красный, розовый, оранжевый, желтый
- Зеленый, голубой, синий, фиолетовый
- Черный, белый, серый, коричневый
- Золотой, серебряный, бежевый, нюдовый

Цвета хранятся как текстовые значения (например, "красный"), но отображаются с соответствующими hex-кодами.

## Компоненты

### DesignsPage
Основной компонент страницы с логикой загрузки, поиска и фильтрации.

### DesignCard
Карточка дизайна с:
- Изображением и бейджами статуса
- Кнопкой лайка (для клиентов)
- Информацией о цвете и тегах
- Отображением минимальной цены "от n ₽"
- Действиями (подробнее/мастера)

### FiltersPanel
Панель фильтров с:
- Выпадающими списками для типа и источника
- Цветовой палитрой для выбора
- Системой тегов (популярные + кастомные)

### MastersList
Модальное окно со списком мастеров:
- Информация о мастере (аватар, рейтинг, адрес)
- Специализации и описание
- Цена и время выполнения для конкретного дизайна
- Действия (профиль/запись)

## Адаптивность
- Полностью адаптивный дизайн для всех размеров экранов
- Мобильная оптимизация с учетом touch-интерфейса
- Responsive сетка для карточек дизайнов

## Технические особенности

### Фильтрация на сервере
- Запросы с параметрами фильтрации
- Поддержка LIKE-запросов для JSON-тегов в PostgreSQL
- Пагинация на уровне базы данных

### Состояние фильтров
- Синхронизация с URL параметрами
- Сохранение состояния при навигации
- Сброс фильтров с возвратом к начальному состоянию

### Управление цветами
- Централизованная утилита `color.util.ts`
- Конвертация между названиями и hex-кодами
- Валидация цветовых значений

### Новая система ценообразования
- Расчет минимальной цены на сервере
- Кэширование результатов для оптимизации
- Динамическое обновление при изменении услуг мастеров

## Маршрутизация
- `/designs` - основная страница каталога
- `/designs/:id` - детальная страница дизайна
- Поддержка параметров в URL для фильтров и поиска 